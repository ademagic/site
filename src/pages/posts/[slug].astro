---
import { getCollection } from 'astro:content';
import getPostData from '../../utils/getPostData';

export async function getStaticPaths() {
  const posts = await getCollection('blog');
  return posts.map(p => ({
    params: { slug: `/blog/${p.slug}` },
    props: { post: p },
  }));
}

const { slug } = getPostData(Astro.props.post);
const permalink = `${Astro.site.href}blog/${slug}`;
---

<head>
    <meta http-equiv="refresh" content={ `0; url=${ permalink }` } />
</head>