---
import BaseLayout from '../layouts/BaseLayout.astro';
import Card from '../components/Card.astro';
import { timerMessage } from 'astro/dist/core/logger/core';

const title = 'Now';
const description = 'What I am focusing on at this point in my life. Based on nownownow.com';
const permalink = `${Astro.site.href}now`;

const response = await fetch(`${import.meta.env.PUBLIC_API_LASTFM}/?method=user.getrecenttracks&user=mikoa&api_key=${import.meta.env.KEY_LASTFM}&format=json&limit=1&extended=1`);
const data = await response.json();
const track = data.recenttracks.track[0];
---

<BaseLayout title={title} description={description} permalink={permalink}>
  <div class="container wide">
    <div class="grid">
      <div class="left">
        <h1>Now</h1>
        <p><a href="https://nownownow.com/about" target="_blank" rel="noreferrer noopener">Now</a> pages are more stable than a social media feed and less permanent than an <a href="/about">About</a> page. Updated monthly-ish.</p>
      </div>
      <div class="right">
        <Card>
          <ul class="nowlist">
            {track && <li>üéß:<a href={track.url}>{track.artist?.name} - {track.name}</a></li>}
            <li>üé∏: Nothing (for now).</li>
            <li>üìñ: <a href="https://amzn.asia/d/9Vyk7r2">Engineering Management for the Rest of Us - Sarah Drasner</a></li>
          </ul>
        </Card>
      </div>
    </div>
    <hr/>
    <ul>
      <li>
        <h2>September</h2>
        <span class="date">22/09/23</span>
        <p>We moved! Bought our first apartment, excited to make our home here after moving out of our home of the past 7. It's been a challenge to get in front of the computer at times, but it's slowly working out.</p>
        <ul>
          <li>Really making an effort to work on my site more. Trying to create myself an easy to consume tasklist</li>
          <li>Finished off a mammoth effort of implementing notifications on Android and iOS... Was a tricky back and forth, but a satisfying outcome.</li>
          <li>After the end of our office lease, my company has decided to go fully remote for the short term. Hoping to write a few blogposts about our experience.</li>
        </ul>
      </li>
      <li>
        <h2>August</h2>
        <span class="date">03/08/23</span>
        <p>Last month I did the least amount of work on my website since migrating to Astro. I'm looking for a way to regain momentum, but between personal responsibilities üè¢ and work responsibilities, It's been challenging to find the time.</p>
        <ul>
          <li>My bike needs work üèçüêù. Hoping for some longer rides as the weather warms up a bit. </li>
          <li>Had a great snow trip with the extended family. Not so much snow, mostly fam. Just what the doctor ordered üåª</li>
          <li>Preparing to move out of where we've been living for about a decade. Lots of big changes are on their way.</li>
        </ul>
      </li>
      <li>
        <h2>July</h2>
        <span class="date">11/07/23</span>
        <ul>
          <li>Looking forward to a snow trip with the fam ‚ùÑÔ∏è</li>
          <li>Trying to play around with code ideas a bit more. Working on a platform to do that. Next challenge: finding the time.</li>
        </ul>
      </li>
      <li>
        <h2>June</h2>
        <span class="date">02/06/23</span>
        <ul>
          <li>Buying a house in Sydney is way harder than it should be.</li>
          <li>Microsoft Build happened. I'm doing a couple of the coding challenges, actually interesting getting to know the ecosystem outside of Github and VSCode.</li>
          <li>Working on my "creative juices" - trying to draw more, have really been enjoying <a href="https://procreate.com" target="_blank" rel="noopener noreferrer">Procreate</a>.</li>
        </ul>
      </li>
      <li>
        <h2>May</h2>
        <span class="date">04/05/23</span>
        <p>I'm trying to get back into the habit of working on my site after some time focusing on personal things (and holidaying in Fiji). My site is something that's brought me joy over the past year, and has helped me grease my coding gears in times when I couldn't get them moving. It's important to me that i keep it fresh and maintainable.
        <p>A "Now" page is something I recently heard about, and really aligns with my perspective on my presence on the internet, social media, and the indie web. So, here it is.</p>
        <ul>
          <li>Made it through my first year of being a Dad. Happy Birthday, kiddo.</li>
          <li>Working more on Native apps than on Web projects. It's been an exciting paradigm change, and an interesting design challenge.</li>
          <li>Slowly dusting off the Manager part of my career (and brain).</li>
        </ul>
      </li>
    </ul>
  </div>
</BaseLayout>

<style>
  .date {
    font-family: var(--font-family-sans);
    color: var(--text-secondary);
  }

  .grid {
    display: grid;
    grid-template-columns: 1fr 2fr;
  }

  .right {
    margin-left: 3em;
  }

  .nowlist {
    list-style: none;
  }
</style>